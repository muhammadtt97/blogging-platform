{% extends 'base.html' %}

{% block content %}
  <h1>{{ post.title }}</h1>
  <p>{{ post.content }}</p>
  <p>Author: {{ post.author.username }}</p>

  <h2>Comments</h2>
  <form action="/post/{{ post.id }}" method="post">
    <label for="content">Add a comment:</label>
    <textarea id="content" name="content" required></textarea>
    <button type="submit">Submit</button>
  </form>
  <ul>
    {% for comment in post.comments %}
      {% if comment.is_approved %}
        <li>{{ comment.content }} - {{ comment.author.username }}</li>
      {% else %}
        <li>Pending moderation</li>
      {% endif %}
    {% endfor %}
  </ul>
{% endblock %}
